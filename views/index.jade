extends layout

block menu
  div(class='navbar navbar-default navbar-fixed-top')
    div(class='container-fluid')
      div(class='navbar-header')
        a(class='navbar-brand') 3M  
      div(class='navbar-header navbar-right')
        a(class='info-msg') {{infoMsg}}  
      div#main_menu(class='navbar-collapse collapse')
        ul(class='nav navbar-nav')
          li(class='dropdown') 
            a(class='dropdown-toggle', href='#', data-toggle='dropdown') Projectes
              span(class='caret')
            ul(class='dropdown-menu')
              for elem in data
                li
                  a(href='#',ng-click='loadProject("#{elem._id}")') #{elem.nom}
          li(ng-show='bProjectLoaded')
            a(href='#') Save
block content
  div#editorGrups(class='modal fade', tabindex='-1', role='dialog', aria-hidden='true')
    div(class='modal-dialog')
      div(class='modal-content')
        div(class='modal-header')
          button(type='button', class='close', data-dismiss='modal')
            span(aria-hidden='true') &times
            span(class='sr-only') Close
          h4(class='modal-title') Group editing ({{currentGrup.length}} turns selected)
        div(class='modal-body' , style='max-height: 420px;overflow-y: auto;')
          table(class='table table-striped table-bordered table-hover')
            tr
              td(colspan='2') 
                h5 Current codes
            tr(ng-repeat='block in codisSeleccionats')
              td  {{block.nom_complet}}
              td
                button(type='button' class='btn btn-xs btn-primary', ng-click='treureCodiGrup(this)') Remove
            tr
              td(colspan='2') 
                h5 Add codes
            tr
              td
                span(style='margin-right:20px') Filter
                input(type='text', ng-model='filtreCodis' ng-change='canviFiltreCodis()')
            tr(ng-repeat='block in codisFiltrats')
              td  {{block.nom_complet}}
              td
                button(type='button' class='btn btn-xs btn-primary', ng-click='afegirCodiGrup(this)') Add
        div(class='modal-footer')
          button(type='button', class='btn btn-default btn-sm' data-dismiss='modal') Close
          button(type='button', class='btn btn-success btn-sm', ng-click='saveGroupCodes()') Save
          button(type='button', class='btn btn-success btn-sm', ng-click='deleteGroupCodes()') Delete
      
  div(class='container-fluid')
    div(class='row')
      div#video_container(class='col-sm-12')
        div(class='container-fluid')
          div(class='row')
            div(class='col-sm-12')
              div(class='panel panel-warning')
                div(class='panel-heading')
                  h1(class='panel-title') Video
                div(class='panel-body')
                  div#main_video(class="video-js vjs-default-skin vjs-paused vjs-controls-enabled vjs-user-inactive", style="width: 100%; height: 300px;")
                    video(data-setup="{&quot;example_option&quot;:true}",preload="auto",class="vjs-tech",id="main_video_html5_api",src="http://192.168.1.103/carlesti/videos/M1S1Tue.ogv")
                      source(type="video/ogg", src="http://192.168.1.103/carlesti/videos/M1S1Tue.ogv")
     div(class='row')
      div#trans1_container(class='col-sm-4')
        div(class='container-fluid')
          div(class='row')
            div(class='col-sm-12')
              div(class='panel panel-success')
                div(class='panel-heading')
                  h1(class='panel-title') Verbal
                div(class='panel-body transcripcio')
                    div(class='panel panel-default',  ng-repeat='block in transcriptions.audio' )
                      div(class='panel-heading')
                        button(class='btn btn-xs btn-warning', ng-click='toggleCheck(this)') Select
                        button(class='btn btn-xs btn-warning') Play
                        button(class='btn btn-xs btn-warning') Edit
                        button(class='btn btn-xs btn-warning') Delete
                        span(class='label label-success', ng-repeat='coding in block.codings') {{codes.codis[coding.id_code].name}}
                        span(ng-repeat='groupId in block.groups')
                          button(class='btn btn-xs btn-primary', ng-click='editGroupCode(this)') {{groupId}}
                      div(class='panel-body',ng-class="{'block_seleccionat': block.checked}") {{block.contingut2}}
      div#trans3_container(class='col-sm-4')
        div(class='container-fluid')
          div(class='row')
            div(class='col-sm-12')
              div(class='panel panel-danger')
                div(class='panel-heading')
                  h1(class='panel-title') No verbal
                div(class='panel-body transcripcio')
                    div(class='panel panel-default' , ng-repeat='block in transcriptions.text')
                      div(class='panel-heading')
                        button(class='btn btn-xs btn-warning') Play
                        span(class='label label-success', ng-repeat='coding in block.codings') {{codes.codis[coding.id_code].name}}
                      div(class='panel-body') {{block.contingut2}}
      div#trans2_container(class='col-sm-4')
        div(class='container-fluid')
          div(class='row')
            div(class='col-sm-12')
              div(class='panel panel-info')
                div(class='panel-heading')
                  h1(class='panel-title') Interf√≠cie
                div(class='panel-body transcripcio')
                    div(class='panel panel-default' , ng-repeat='block in transcriptions.video')
                      div(class='panel-heading')
                        button(class='btn btn-xs btn-warning') Play
                        span(class='label label-success', ng-repeat='coding in block.codings') {{codes.codis[coding.id_code].name}}
                      div(class='panel-body') {{block.contingut2}}
